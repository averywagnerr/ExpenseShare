<header>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid pb-2 mx-4 pt-2 flex justify-between">
      <a class="navbar-brand mb-0 h1" href="/">
        <img src="/img/text-logo-2.png" alt="" width="250">
      </a>
      <ul class="flex flex-row justify-between items-center">
        <li class="nav-item">
          <a class="nav-link" href="{{#if username}}/home{{else}}/"{{/if}}>Home</a>
        </li>
        {{#if username}}
				<div class="flex flex-row gap-4 text-white">
					<li class="px-4">
						<a class="text-white" href="/joinGroup">Join a Group</a>
					</li>
					<li class="px-4">
						<a class="btn btn-primary mx-2" href="/createGroup">Create a Group</a>
					</li>
					<li class="px-4">
						<a class="text-white" href="/logout">Logout</a>
					</li>
					<li class="px-4">
						<a class="text-white" href="#">Hi, {{ username }}!</a>
					</li>
					{{else}}
					<li class="px-4">
						<a class="text-white btn-primary" href="/login">Login</a>
					</li>
					<li class="px-4">
						<a class="btn btn-primary mx-2" href="/register">Register</a>
					</li>
					<li class="px-4">
						<a class="bg-white self-center my-auto mt-2" href="/">
							<img src="/img/block-logo-1.svg" alt="" width="40">
						</a>
					</li>    
        {{/if}}
            <li class = "px-4">
              <script>
                // On page load or when changing themes, best to add inline in `head` to avoid FOUC
                if (
                  localStorage.getItem("color-theme") === "dark" ||
                  (!("color-theme" in localStorage) &&
                    window.matchMedia("(prefers-color-scheme: dark)").matches)
                ) {
                  document.documentElement.classList.add("dark");
                } else {
                  document.documentElement.classList.remove("dark");
                }
              </script>
              <nav
                class="navbar-dark bg-dark border-gray-200 border-gray-200 px-2 sm:px-4 py-2.5 dark:bg-gray-800"
              >
              <div
                class="mx-auto flex flex-wrap items-center justify-between"
              >
                <a href="#" class="flex">
                  
                    <path
                      d="M1.87695 53H28.7791C41.5357 53 51.877 42.7025 51.877 30H24.9748C12.2182 30 1.87695 40.2975 1.87695 53Z"
                      fill="#76A9FA"
                    ></path>
                    <path
                      d="M0.000409561 32.1646L0.000409561 66.4111C12.8618 66.4111 23.2881 55.9849 23.2881 43.1235L23.2881 8.87689C10.9966 8.98066 1.39567 19.5573 0.000409561 32.1646Z"
                      fill="#A4CAFE"
                    ></path>
                    <path
                      d="M50.877 5H23.9748C11.2182 5 0.876953 15.2975 0.876953 28H27.7791C40.5357 28 50.877 17.7025 50.877 5Z"
                      fill="#1C64F2"
                    ></path>
                  </svg>
                  <span
                    class="self-center text-lg font-semibold whitespace-nowrap dark:text-white"
                    ></span
                  >
                </a>
              <div class="flex md:order-2">
                <!-- Dark mode switcher -->
                <button
                  id="theme-toggle"
                  type="button"
                  class="text-gray-500 dark:text-ES hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5"
                >
                  <svg
                    id="theme-toggle-light-icon"
                    class="hidden w-5 h-5"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
                    ></path>
                  </svg>
                  <svg
                    id="theme-toggle-dark-icon"
                    class="hidden w-5 h-5"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                    ></path>
                  </svg>
                </button>
                <!-- Dark mode switcher end -->
          </nav>

          <script>
            var themeToggleDarkIcon = document.getElementById(
              "theme-toggle-dark-icon"
            );
            var themeToggleLightIcon = document.getElementById(
              "theme-toggle-light-icon"
            );

            // Change the icons inside the button based on previous settings
            if (
              localStorage.getItem("color-theme") === "dark" ||
              (!("color-theme" in localStorage) &&
                window.matchMedia("(prefers-color-scheme: dark)").matches)
            ) {
              themeToggleLightIcon.classList.remove("hidden");
            } else {
              themeToggleDarkIcon.classList.remove("hidden");
            }

            var themeToggleBtn = document.getElementById("theme-toggle");

            themeToggleBtn.addEventListener("click", function () {
              // toggle icons inside button
              themeToggleDarkIcon.classList.toggle("hidden");
              themeToggleLightIcon.classList.toggle("hidden");

              // if set via local storage previously
              if (localStorage.getItem("color-theme")) {
                if (localStorage.getItem("color-theme") === "light") {
                  document.documentElement.classList.add("dark");
                  localStorage.setItem("color-theme", "dark");
                } else {
                  document.documentElement.classList.remove("dark");
                  localStorage.setItem("color-theme", "light");
                }

                // if NOT set via local storage previously
              } else {
                if (document.documentElement.classList.contains("dark")) {
                  document.documentElement.classList.remove("dark");
                  localStorage.setItem("color-theme", "light");
                } else {
                  document.documentElement.classList.add("dark");
                  localStorage.setItem("color-theme", "dark");
                }
              }
                });
              </script>

              <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.3/flowbite.min.js"></script>
            </li>
				</div>
      </ul>
    </div>
  </nav>
</header>